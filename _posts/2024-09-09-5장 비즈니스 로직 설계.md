---
title: 5장 비즈니스 로직 설계
date: 2024-09-09 20:13:00 +0900
categories: [Software Development, Software Design]
tags: [MSA, 마이크로서비스 패턴 크리스 리처드슨] # TAG names should always be lowercase
---

# 목차

```
5장 비즈니스 로직 설계
5.1 비즈니스 로직 구성 패턴
__5.1.1 비즈니스 로직 설계: 트랜잭션 스크립트 패턴
__5.1.2 비즈니스 로직 설계: 도메인 모델 패턴
__5.1.3 도메인 주도 설계 개요
5.2 도메인 모델 설계: DDD 애그리거트 패턴
__5.2.1 불분명한 경계 문제
__5.2.2 애그리거트는 경계가 분명하다
__5.2.3 애그리거트 규칙
__5.2.4 애그리거트 입도
__5.2.5 비즈니스 로직 설계: 애그리거트
5.3 도메인 이벤트 발행
__5.3.1 변경 이벤트를 발행하는 이유
__5.3.2 도메인 이벤트란 무엇인가?
__5.3.3 이벤트 강화
__5.3.4 도메인 이벤트 식별
__5.3.5 도메인 이벤트 생성 및 발행
__5.3.6 도메인 이벤트 소비
5.4 주방 서비스 비즈니스 로직
__5.4.1 Ticket 애그리거트
5.5 주문 서비스 비즈니스 로직
__5.5.1 Order 애그리거트
__5.5.2 OrderService 클래스
5.6 마치며



```

# 정리 전략?

- 전부 정리는 NO
- 핵심중에서 꼭 적고 가야겠다 싶은 것만!
- 나의 생각을 섞어서 적을것..!
- 떠오르는 것 먼저 간단하게..!

# 5장 비즈니스 로직 설계

5장 비즈니스 로직 설계

## 5.1 비즈니스 로직 구성 패턴

- 인바운드 패턴 : 클라이언트의 요청을 받아 비즈니스 로직을 호출한다.
- 아웃바운드 패턴 : 다른 서비스 및 애플리케이션을 실행한다.
- ![](assets/img/posts/2024-09-09-21-07-34.png)
- 이미지의 4가지 요소에 주목하자.

### 5.1.1 비즈니스 로직 설계: 트랜잭션 스크립트 패턴

- 우리가 일반적으로 아는 패턴. 절차지향 방식의 코딩.

### 5.1.2 비즈니스 로직 설계: 도메인 모델 패턴

- 객체지향에서 도메인 설계까지 포함한 개발 방식.
- 비교적 작은 클래스가 그물망처럼 얽힌 객체 모델로 구성된다.
- 장점들
  - 이해, 관리가 쉽다.
  - 테스트 하기 쉽다.
  - 잘 알려진 설계 패턴을 응용할 수 있기 때문에 확장하기 쉽다.

### 5.1.3 도메인 주도 설계 개요

- 엔티티 : 동일성 기준으로 구분하는 객체
- 벨류 객체 : 여러 값을 모아둔 것이고, 이 값들이 같으면(동등하면) 같다고 취급하는 객체
- 팩토리 : 복잡한 객체생성 로직이 구현된 객체
- 리포지터리 : DB 접근 로직을 캡슐화한 객체
- 서비스 : 비즈니스 로직 구현 개체(엔티티, 벨류에 속하지 않는)

## 5.2 도메인 모델 설계: DDD 애그리거트 패턴

\*\*5.2.1 불분명한 경계 문제

- 에그리거트 단위로 경계를 만들어야하는데 경계가 모호함.
  \*\*5.2.2 애그리거트는 경계가 분명하다
- ?
  \*\*5.2.3 애그리거트 규칙
- 애그리거트는 생명주기가 거의 동일한 엔티티들의 집합.
  \*\*5.2.4 애그리거트 입도
- 입도?
  \*\*5.2.5 비즈니스 로직 설계: 애그리거트
-

## 5.3 도메인 이벤트 발행

\*\*5.3.1 변경 이벤트를 발행하는 이유

- 보안 감사를 위해
- 기타 이유?
  \*\*5.3.2 도메인 이벤트란 무엇인가?
- 도메인과 관련된 특별한 사건.
  \*\*5.3.3 이벤트 강화
- 모름
  \*\*5.3.4 도메인 이벤트 식별
- 특별한 일련번호로 식별이 가능.
  **5.3.5 도메인 이벤트 생성 및 발행
  **5.3.6 도메인 이벤트 소비

## 5.4 주방 서비스 비즈니스 로직

\*\*5.4.1 Ticket 애그리거트
5.5 주문 서비스 비즈니스 로직
\*\*5.5.1 Order 애그리거트
\_\_5.5.2 OrderService 클래스
5.6 마치며

# 참고자료

https://velog.io/@daehoon12/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%8C%A8%ED%84%B4-5.-%EB%B9%84%EC%A6%88%EB%8B%88%EC%8A%A4-%EB%A1%9C%EC%A7%81-%EC%84%A4%EA%B3%84
https://medium.com/byungkyu-ju/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%ED%8C%A8%ED%84%B4-5-5%EC%9E%A5-f1f5ebdac05a
https://bryceyangs.github.io/various/2023/03/12/%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C%EC%84%9C%EB%B9%84%EC%8A%A4%ED%8C%A8%ED%84%B4-5%EC%9E%A5/#google_vignette
